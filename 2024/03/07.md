## 取り組んだ課題一覧
- progateのNode.js学習レッスンⅥ
## わかったこと
- EJSファイルの中で、別のEJSファイルを呼び出す
- include機能…
- <%- include(‘呼び出したいEJSファイル名’) %>とすることで、EJSファイルを呼び出すことができる。
- ログアウトの実装
- req.session.destroy(() => {実行後の処理});と書くことで、保存したセッション情報を消すことができる。
- req.session.destroy((error) => {});と引数errorには削除が失敗した時の情報が入る。

- INSERTクエリが成功すると、追加されたレコードのidがresultsオブジェクトのinsertIdというプロパティに入る。これが新しいユーザーのidとなる。
- ミドルウェア関数…
- リクエストとレスポンスの間にサーバーが実行する関数のことをミドルウェア関数と呼ぶ。
- ミドルウェア関数は上から順番に実行されろ。複数のミドルウェア関数がある場合処理される順番に注意する。
- バリデーション…ユーザー登録フォームに入力された値が、空かどうかチェックをする仕組み。
- ユーザー名などの入力値が空の婆愛、pushメソッドを用いてエラーメッセージを配列errorsに追加する。
- 入力値の空の場合、配列errorsの要素は0より大きくなるので、この場合はユーザー登録画面にリダイレクトし、空ではない場合はnext関数を実行してユーザー登録画面にすすむ。
- bcryptパッケージ…パスワードのハッシュ化に用いられる。npm install bcryptでbcryptパッケージをインストールできる。
- パスワードをbcryptでハッシュ化する際、hashメソッドを使用する。第一引数に文字列、第二引数に整数(値が大きいほど、強力で処理速度が遅い)最後にコールバック関数の引数hashからハッシュ化されたパスワードを取得することができる。
- ユーザーの入力した文字列のパスワードとデータベース上のハッシュ化されたパスワードを比較するには、bcryptパッケージのcompareメソッドを使用する。
- bcrypt.compare(パスワード,hash, (error, isEqual) => {})となり、hashにはハッシュ化されたパスワードが入り、isEqualにはパスワードとハッシュ化されたパスワードとの比較結果が入る。
## 次やること
- markdownを使えるようになる
## 感じたこと
- Railsの知識とごっちゃになったり、SQLの文法を復習したいと感じた。
## 学習時間
- 3H
 
